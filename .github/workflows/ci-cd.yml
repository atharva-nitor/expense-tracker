on:
 push:
   branches:
     - main
 pull_request:
   branches:
     - main
jobs:
 build-backend:
   runs-on: ubuntu-latest
   steps:
     
     - name: Checkout Code
       uses: actions/checkout@v3
     
     - name: Set up JDK 17
       uses: actions/setup-java@v3
       with:
         java-version: 17
         distribution: temurin
     
     - name: Cache Maven dependencies
       uses: actions/cache@v3
       with:
         path: ~/.m2/repository
         key: ${{ runner.os }}-maven-${{ hashFiles('**/pom.xml') }}
         restore-keys: |
           ${{ runner.os }}-maven-
     
     - name: Build and Test Backend
       run: |
         cd backend
         ./mvnw clean test
 
 build-frontend:
   runs-on: ubuntu-latest
   steps:
     
     - name: Checkout Code
       uses: actions/checkout@v3
     
     - name: Set up Node.js
       uses: actions/setup-node@v3
       with:
         node-version: 18
     
     - name: Cache Node Modules
       uses: actions/cache@v3
       with:
         path: frontend/node_modules
         key: ${{ runner.os }}-node-modules-${{ hashFiles('**/package-lock.json') }}
         restore-keys: |
           ${{ runner.os }}-node-modules-
     
     - name: Build and Test Frontend
       run: |
         cd frontend
         npm install
         npm run build
         npm test
 
